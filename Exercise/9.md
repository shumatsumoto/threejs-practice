## 1. 問題タイトル

9 本目：自動回転するキューブ

## 2. 学習目標

この演習を通じて、以下の技術を習得します。

- フレームごとの状態更新によるアニメーション
- インクリメント演算子による継続的な変化

## 3. 新しい概念の解説

**State Update（状態の更新）**
アニメーションループの中で、オブジェクトのプロパティ（位置や回転など）を少しずつ変化させることです。
`x = x + 0.1` や `x += 0.1` のように書くことで、時間の経過とともに値が増えていき、動きが生まれます。

```javascript
function animate() {
  requestAnimationFrame(animate);

  // 毎回回転角度を0.01ラジアン増やす
  cube.rotation.x += 0.01;
  cube.rotation.y += 0.01;

  renderer.render(scene, camera);
}
```

## 4. 課題の説明

演習 8 で作ったループの中でキューブを回転させ、くるくると回り続けるアニメーションを作ってください。

## 5. 必須要件

以下の機能を実装してください。

- **アニメーションの実装**:
  `animate` 関数の中で、`renderer.render` より前の行に回転処理を追加します。

- **回転の加算**:
  `cube.rotation.x += 0.01;`
  `cube.rotation.y += 0.01;`
  のように、毎フレーム角度を少しずつ増やします。

- **確認**:
  ブラウザ上でキューブがくるくると回り続けていることを確認します。

## 6. ヒント

- **ヒント 1（インクリメント）**:
  `cube.rotation.x += 0.01` は `cube.rotation.x = cube.rotation.x + 0.01` の省略形です。
  今の角度に少し足すことで、回転し続けます。
- **ヒント 2（記述場所）**:
  必ず `requestAnimationFrame` の後、かつ `renderer.render` の前に記述してください。
  描画する直前に位置を更新することで、動いているように見えます。
- **ヒント 3（速度調整）**:
  `0.01` という数値を大きくすると速く、小さくすると遅く回転します。
  `0.01` ラジアンは約 0.57 度なので、1フレームあたり 0.57 度回ります。
- **ヒント 4（複合回転）**:
  X 軸と Y 軸を同時に回転させると、斜めに転がるような複雑な動きになります。
- **ヒント 5（初期値）**:
  演習 6 のように初期角度を指定しておく必要はありません。`0` からスタートして徐々に増えていけば OK です。

## 7. スターターコード

```javascript
// ...演習8のコード...

function animate() {
  requestAnimationFrame(animate);

  // --- ここでキューブを回転させてください ---

  // --- ここまで ---

  renderer.render(scene, camera);
}
animate();
```

## 8. 模範解答

```javascript
import * as THREE from "three";

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(
  75,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const geometry = new THREE.BoxGeometry(1, 1, 1);
const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);

camera.position.z = 5;

function animate() {
  requestAnimationFrame(animate);

  // 毎フレーム少しずつ回転させる
  cube.rotation.x += 0.01;
  cube.rotation.y += 0.01;

  renderer.render(scene, camera);
}

animate();
```
